<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Кодировка</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" integrity="sha512-wnea99uKIC3TJF7v4eKk4Y+lMz2Mklv18+r4na2Gn1abDRPPOeef95xTzdwGD9e6zXJBteMIhZ1+68QC5byJZw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<form id="form" class="m-20">
  <input type="text" id="input" maxlength='4' placeholder='СЛОВО'>
  <button id="btn" type="submit" class="waves-effect waves-light btn mt-5">Закодировать</button>
  <p class='mt-10 text-3xl'>Закодированное слово: <span id='word' class="text-green-500"></span></p>
</form>

<script>
  const input = document.querySelector('#input')
  const btn = document.querySelector('#btn')
  const form = document.querySelector('#form')
  const word = document.querySelector('#word')
  const submit = async e => {
    e.preventDefault()
    const val = input.value
    if (val[1] === 'а' || val[3] === 'а') {
      alert(`Буква "А" не должна стоять на втором и последнем месте`)
    } else {
      word.innerHTML = (await (await fetch(`http://127.0.0.1:8000/encode/${val}`)).json()).word
    }
  }

  form.addEventListener('submit', submit)
</script>
</body>
</html>
